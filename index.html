import React, { useEffect, useState } from "react";

export default function WeddingInvitation() { const weddingDate = new Date("2025-12-20T10:00:00"); // contoh tanggal, ganti sesuai kebutuhan const [timeLeft, setTimeLeft] = useState(getTimeLeft()); const [rsvpOpen, setRsvpOpen] = useState(false); const [guests, setGuests] = useState([]); const [form, setForm] = useState({ name: "", email: "", attending: "yes", message: "" });

useEffect(() => { const t = setInterval(() => setTimeLeft(getTimeLeft()), 1000); return () => clearInterval(t); }, []);

function getTimeLeft() { const now = new Date(); const diff = weddingDate - now; if (diff <= 0) return { days: 0, hours: 0, minutes: 0, seconds: 0 }; const days = Math.floor(diff / (1000 * 60 * 60 * 24)); const hours = Math.floor((diff / (1000 * 60 * 60)) % 24); const minutes = Math.floor((diff / (1000 * 60)) % 60); const seconds = Math.floor((diff / 1000) % 60); return { days, hours, minutes, seconds }; }

function handleFormChange(e) { const { name, value } = e.target; setForm(prev => ({ ...prev, [name]: value })); }

function submitRsvp(e) { e.preventDefault(); setGuests(prev => [...prev, { ...form, id: Date.now() }]); setForm({ name: "", email: "", attending: "yes", message: "" }); setRsvpOpen(false); alert("Terima kasih! RSVP Anda tersimpan (contoh). Ganti handler untuk menyimpan ke server nyata."); }

return ( <div className="min-h-screen bg-gradient-to-b from-white to-pink-50 text-gray-900"> {/* HERO */} <header className="text-center py-16 px-6"> <h1 className="text-5xl font-serif">Nama Mempelai Wanita <span className="text-pink-600">&</span> Nama Mempelai Pria</h1> <p className="mt-4 text-lg">Sabtu, 20 Desember 2025 â€¢ Lokasi Acara</p>

<div className="mt-6 flex flex-col sm:flex-row gap-3 justify-center">
      <button
        onClick={() => setRsvpOpen(true)}
        className="px-6 py-3 bg-pink-600 text-white rounded-full"
      >
        RSVP Sekarang
      </button>
    </div>

    <div className="mt-8 inline-grid grid-cols-4 gap-4 bg-white/70 p-4 rounded-2xl shadow-inner">
      <TimeCard label="Hari" value={timeLeft.days} />
      <TimeCard label="Jam" value={timeLeft.hours} />
      <TimeCard label="Menit" value={timeLeft.minutes} />
      <TimeCard label="Detik" value={timeLeft.seconds} />
    </div>
  </header>

  {/* KISAH */}
  <section className="max-w-4xl mx-auto px-6 py-12 bg-white rounded-2xl shadow">
    <h2 className="text-2xl font-semibold">Kisah Kami</h2>
    <p className="mt-3 text-gray-700 leading-relaxed">
      Ceritakan kisah pertemuan, perjalanan cinta, atau momen berkesan kalian di sini.
    </p>
  </section>

  {/* JADWAL */}
  <section className="max-w-4xl mx-auto px-6 py-12 bg-white rounded-2xl shadow mt-10">
    <h3 className="text-2xl font-semibold">Jadwal Acara</h3>
    <div className="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
      <EventCard time="10:00" title="Akad Nikah" location="Lokasi Akad" />
      <EventCard time="12:00" title="Resepsi" location="Lokasi Resepsi" />
      <EventCard time="15:00" title="After Party" location="Lokasi Tambahan" />
    </div>
  </section>

  {/* LOKASI */}
  <section className="max-w-4xl mx-auto px-6 py-12 bg-white rounded-2xl shadow mt-10">
    <h3 className="text-2xl font-semibold">Lokasi</h3>
    <div className="mt-4">
      <p className="font-semibold">Alamat Gedung / Tempat</p>
      <p className="text-sm text-gray-600 mt-2">Tambahkan alamat lengkap di sini</p>
      <div className="mt-4 w-full h-64 rounded-lg overflow-hidden shadow">
        <iframe
          title="Lokasi Pernikahan"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!..."
          width="100%"
          height="100%"
          loading="lazy"
        />
      </div>
    </div>
  </section>

  {/* UCAPAN */}
  <section className="max-w-4xl mx-auto px-6 py-12 bg-white rounded-2xl shadow mt-10">
    <h3 className="text-2xl font-semibold">Ucapan & Doa</h3>
    <form onSubmit={(e) => { e.preventDefault(); setGuests([...guests, { ...form, id: Date.now() }]); setForm({ name: "", message: "" }); }} className="space-y-3 mt-4">
      <input name="name" value={form.name} onChange={handleFormChange} placeholder="Nama" className="w-full border rounded px-3 py-2" />
      <textarea name="message" value={form.message} onChange={handleFormChange} placeholder="Ucapan" className="w-full border rounded px-3 py-2" />
      <button type="submit" className="px-4 py-2 rounded bg-pink-600 text-white">Kirim</button>
    </form>
    <div className="mt-6 space-y-3">
      {guests.map(g => (
        <div key={g.id} className="p-3 border rounded-lg">
          <p className="font-semibold">{g.name}</p>
          <p className="text-sm text-gray-700 mt-1">{g.message}</p>
        </div>
      ))}
    </div>
  </section>

  {/* FOOTER */}
  <footer className="text-center py-8 text-sm text-gray-600 mt-10">
    <p>Terima kasih atas doa & dukungan Anda.</p>
  </footer>

  {/* RSVP Modal */}
  {rsvpOpen && (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
      <div className="bg-white rounded-2xl p-6 w-full max-w-md shadow-lg">
        <h4 className="text-xl font-semibold">Form RSVP</h4>
        <form onSubmit={submitRsvp} className="mt-4 space-y-3">
          <input
            name="name"
            value={form.name}
            onChange={handleFormChange}
            placeholder="Nama Anda"
            required
            className="w-full border rounded px-3 py-2"
          />
          <select name="attending" value={form.attending} onChange={handleFormChange} className="w-full border rounded px-3 py-2">
            <option value="yes">Hadir</option>
            <option value="no">Tidak Hadir</option>
            <option value="maybe">Mungkin</option>
          </select>
          <textarea
            name="message"
            value={form.message}
            onChange={handleFormChange}
            placeholder="Pesan / Doa singkat"
            className="w-full border rounded px-3 py-2"
          />
          <div className="flex gap-3 justify-end">
            <button type="button" onClick={() => setRsvpOpen(false)} className="px-4 py-2 rounded">Batal</button>
            <button type="submit" className="px-4 py-2 rounded bg-pink-600 text-white">Kirim</button>
          </div>
        </form>
      </div>
    </div>
  )}
</div>

); }

function TimeCard({ label, value }) { return ( <div className="text-center p-3"> <div className="text-2xl font-semibold">{value}</div> <div className="text-xs text-gray-500">{label}</div> </div> ); }

function EventCard({ time, title, location }) { return ( <div className="p-4 border rounded-lg"> <div className="text-sm text-pink-600 font-semibold">{time}</div> <div className="mt-2 font-medium">{title}</div> <div className="text-sm text-gray-500 mt-1">{location}</div> </div> ); }

